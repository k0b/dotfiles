function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/* eslint-env jasmine */

var _semver = require('semver');

var _semver2 = _interopRequireDefault(_semver);

'use babel';

describe('go-config', function () {
  var goconfigMain = null;

  beforeEach(function () {
    waitsForPromise(function () {
      return atom.packages.activatePackage('environment');
    });
    waitsForPromise(function () {
      return atom.packages.activatePackage('go-config').then(function (pack) {
        goconfigMain = pack.mainModule;
      });
    });
    waitsFor(function () {
      return goconfigMain.ready();
    });
  });

  describe('when the go-config package is activated', function () {
    it('manages subscriptions', function () {
      expect(goconfigMain).toBeDefined();
      expect(goconfigMain.subscriptions).toBeDefined();
      expect(goconfigMain.subscriptions).toBeTruthy();
    });

    it('disposes correctly', function () {
      expect(goconfigMain).toBeDefined();
      expect(goconfigMain.subscriptions).toBeDefined();
      expect(goconfigMain.subscriptions).toBeTruthy();
      expect(goconfigMain.environment).toBeDefined();
      expect(goconfigMain.environment).toBeTruthy();
      goconfigMain.getLocator();
      expect(goconfigMain.locator).toBeDefined();
      expect(goconfigMain.locator).toBeTruthy();

      goconfigMain.dispose();
      expect(goconfigMain.subscriptions).toBeFalsy();
      expect(goconfigMain.environment).toBeFalsy();
      expect(goconfigMain.locator).toBeFalsy();

      goconfigMain.activate();
    });

    it('gets a Locator', function () {
      expect(goconfigMain.getLocator).toBeDefined();
      var locator = goconfigMain.getLocator();
      expect(locator).toBeDefined();
      expect(locator).toBeTruthy();
    });

    it('gets an executor', function () {
      expect(goconfigMain.getExecutor).toBeDefined();
      var executor = goconfigMain.getExecutor();
      expect(executor).toBeDefined();
      expect(executor).toBeTruthy();
    });

    it('is ready', function () {
      expect(goconfigMain.ready).toBeDefined();
      expect(goconfigMain.ready()).toBe(true);
    });

    it('provides a service', function () {
      expect(goconfigMain.provide).toBeDefined();
      var provider = goconfigMain.provide();
      expect(provider).toBeTruthy();
      expect(provider.executor).toBeTruthy();
      expect(provider.locator).toBeTruthy();
      expect(provider.locator.runtimes).toBeDefined();
      expect(provider.locator.runtime).toBeDefined();
      expect(provider.locator.gopath).toBeDefined();
      expect(provider.locator.findTool).toBeDefined();
      expect(provider.locator.runtimeCandidates).not.toBeDefined();
      expect(provider.environment).toBeDefined();
      expect(provider.environment()).toBeTruthy();
    });
  });

  describe('when the environment is not available', function () {
    var e = null;
    beforeEach(function () {
      e = goconfigMain.environment;
      goconfigMain.environment = null;
    });
    afterEach(function () {
      goconfigMain.environment = e;
    });

    it('is not ready for Atom < 1.7.0', function () {
      expect(goconfigMain.ready).toBeDefined();
      if (_semver2['default'].satisfies(_semver2['default'].major(atom.appVersion) + '.' + _semver2['default'].minor(atom.appVersion) + '.' + _semver2['default'].patch(atom.appVersion), '<1.7.0')) {
        expect(goconfigMain.ready()).toBe(false);
      }
    });

    it('returns the process environment', function () {
      expect(goconfigMain.environment).toBeFalsy();
      expect(goconfigMain.getEnvironment).toBeDefined();
      expect(goconfigMain.getEnvironment()).toBeTruthy();
      expect(goconfigMain.getEnvironment()).toBe(process.env);
    });

    it('consumes an environment', function () {
      expect(goconfigMain.environment).toBeFalsy();
      goconfigMain.consumeEnvironment({ PING: 'PONG' });
      expect(goconfigMain.environment).toBeTruthy();
      expect(goconfigMain.environment.PING).toBe('PONG');
      expect(goconfigMain.environment.PONG).not.toBeDefined();
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy8uYXRvbS9wYWNrYWdlcy9nby1jb25maWcvc3BlYy9tYWluLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFHbUIsUUFBUTs7OztBQUgzQixXQUFXLENBQUE7O0FBS1gsUUFBUSxDQUFDLFdBQVcsRUFBRSxZQUFNO0FBQzFCLE1BQUksWUFBWSxHQUFHLElBQUksQ0FBQTs7QUFFdkIsWUFBVSxDQUFDLFlBQU07QUFDZixtQkFBZSxDQUFDLFlBQU07QUFDcEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQTtLQUNwRCxDQUFDLENBQUE7QUFDRixtQkFBZSxDQUFDLFlBQU07QUFDcEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUs7QUFDL0Qsb0JBQVksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFBO09BQy9CLENBQUMsQ0FBQTtLQUNILENBQUMsQ0FBQTtBQUNGLFlBQVEsQ0FBQyxZQUFNO0FBQUUsYUFBTyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUE7S0FBRSxDQUFDLENBQUE7R0FDaEQsQ0FBQyxDQUFBOztBQUVGLFVBQVEsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFNO0FBQ3hELE1BQUUsQ0FBQyx1QkFBdUIsRUFBRSxZQUFNO0FBQ2hDLFlBQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtBQUNsQyxZQUFNLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO0FBQ2hELFlBQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUE7S0FDaEQsQ0FBQyxDQUFBOztBQUVGLE1BQUUsQ0FBQyxvQkFBb0IsRUFBRSxZQUFNO0FBQzdCLFlBQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtBQUNsQyxZ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MUMsWUFBTSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtBQUM1QyxZQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO0FBQ2pELFlBQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtBQUNsRCxZQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQTtLQUN4RCxDQUFDLENBQUE7O0FBRUYsTUFBRSxDQUFDLHlCQUF5QixFQUFFLFlBQU07QUFDbEMsWUFBTSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtBQUM1QyxrQkFBWSxDQUFDLGtCQUFrQixDQUFDLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUE7QUFDL0MsWUFBTSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtBQUM3QyxZQUFNLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDbEQsWUFBTSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFBO0tBQ3hELENBQUMsQ0FBQTtHQUNILENBQUMsQ0FBQTtDQUNILENBQUMsQ0FBQSIsImZpbGUiOiIvVXNlcnMvamFtZXMvLmF0b20vcGFja2FnZXMvZ28tY29uZmlnL3NwZWMvbWFpbi1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCdcbi8qIGVzbGludC1lbnYgamFzbWluZSAqL1xuXG5pbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcidcblxuZGVzY3JpYmUoJ2dvLWNvbmZpZycsICgpID0+IHtcbiAgbGV0IGdvY29uZmlnTWFpbiA9IG51bGxcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdlbnZpcm9ubWVudCcpXG4gICAgfSlcbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdnby1jb25maWcnKS50aGVuKChwYWNrKSA9PiB7XG4gICAgICAgIGdvY29uZmlnTWFpbiA9IHBhY2subWFpbk1vZHVsZVxuICAgICAgfSlcbiAgICB9KVxuICAgIHdhaXRzRm9yKCgpID0+IHsgcmV0dXJuIGdvY29uZmlnTWFpbi5yZWFkeSgpIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3doZW4gdGhlIGdvLWNvbmZpZyBwYWNrYWdlIGlzIGFjdGl2YXRlZCcsICgpID0+IHtcbiAgICBpdCgnbWFuYWdlcyBzdWJzY3JpcHRpb25zJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbikudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5zdWJzY3JpcHRpb25zKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLnN1YnNjcmlwdGlvbnMpLnRvQmVUcnV0aHkoKVxuICAgIH0pXG5cbiAgICBpdCgnZGlzcG9zZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbikudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5zdWJzY3JpcHRpb25zKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLnN1YnNjcmlwdGlvbnMpLnRvQmVUcnV0aHkoKVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5lbnZpcm9ubWVudCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5lbnZpcm9ubWVudCkudG9CZVRydXRoeSgpXG4gICAgICBnb2NvbmZpZ01haW4uZ2V0TG9jYXRvcigpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLmxvY2F0b3IpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4ubG9jYXRvcikudG9CZVRydXRoeSgpXG5cbiAgICAgIGdvY29uZmlnTWFpbi5kaXNwb3NlKClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uc3Vic2NyaXB0aW9ucykudG9CZUZhbHN5KClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZW52aXJvbm1lbnQpLnRvQmVGYWxzeSgpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLmxvY2F0b3IpLnRvQmVGYWxzeSgpXG5cbiAgICAgIGdvY29uZmlnTWFpbi5hY3RpdmF0ZSgpXG4gICAgfSlcblxuICAgIGl0KCdnZXRzIGEgTG9jYXRvcicsICgpID0+IHtcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZ2V0TG9jYXRvcikudG9CZURlZmluZWQoKVxuICAgICAgbGV0IGxvY2F0b3IgPSBnb2NvbmZpZ01haW4uZ2V0TG9jYXRvcigpXG4gICAgICBleHBlY3QobG9jYXRvcikudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGxvY2F0b3IpLnRvQmVUcnV0aHkoKVxuICAgIH0pXG5cbiAgICBpdCgnZ2V0cyBhbiBleGVjdXRvcicsICgpID0+IHtcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZ2V0RXhlY3V0b3IpLnRvQmVEZWZpbmVkKClcbiAgICAgIGxldCBleGVjdXRvciA9IGdvY29uZmlnTWFpbi5nZXRFeGVjdXRvcigpXG4gICAgICBleHBlY3QoZXhlY3V0b3IpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChleGVjdXRvcikudG9CZVRydXRoeSgpXG4gICAgfSlcblxuICAgIGl0KCdpcyByZWFkeScsICgpID0+IHtcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4ucmVhZHkpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4ucmVhZHkoKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICBpdCgncHJvdmlkZXMgYSBzZXJ2aWNlJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5wcm92aWRlKS50b0JlRGVmaW5lZCgpXG4gICAgICBsZXQgcHJvdmlkZXIgPSBnb2NvbmZpZ01haW4ucHJvdmlkZSgpXG4gICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVUcnV0aHkoKVxuICAgICAgZXhwZWN0KHByb3ZpZGVyLmV4ZWN1dG9yKS50b0JlVHJ1dGh5KClcbiAgICAgIGV4cGVjdChwcm92aWRlci5sb2NhdG9yKS50b0JlVHJ1dGh5KClcbiAgICAgIGV4cGVjdChwcm92aWRlci5sb2NhdG9yLnJ1bnRpbWVzKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocHJvdmlkZXIubG9jYXRvci5ydW50aW1lKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocHJvdmlkZXIubG9jYXRvci5nb3BhdGgpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChwcm92aWRlci5sb2NhdG9yLmZpbmRUb29sKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocHJvdmlkZXIubG9jYXRvci5ydW50aW1lQ2FuZGlkYXRlcykubm90LnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChwcm92aWRlci5lbnZpcm9ubWVudCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHByb3ZpZGVyLmVudmlyb25tZW50KCkpLnRvQmVUcnV0aHkoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3doZW4gdGhlIGVudmlyb25tZW50IGlzIG5vdCBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgbGV0IGUgPSBudWxsXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBlID0gZ29jb25maWdNYWluLmVudmlyb25tZW50XG4gICAgICBnb2NvbmZpZ01haW4uZW52aXJvbm1lbnQgPSBudWxsXG4gICAgfSlcbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgZ29jb25maWdNYWluLmVudmlyb25tZW50ID0gZVxuICAgIH0pXG5cbiAgICBpdCgnaXMgbm90IHJlYWR5IGZvciBBdG9tIDwgMS43LjAnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLnJlYWR5KS50b0JlRGVmaW5lZCgpXG4gICAgICBpZiAoc2VtdmVyLnNhdGlzZmllcyhzZW12ZXIubWFqb3IoYXRvbS5hcHBWZXJzaW9uKSArICcuJyArIHNlbXZlci5taW5vcihhdG9tLmFwcFZlcnNpb24pICsgJy4nICsgc2VtdmVyLnBhdGNoKGF0b20uYXBwVmVyc2lvbiksICc8MS43LjAnKSkge1xuICAgICAgICBleHBlY3QoZ29jb25maWdNYWluLnJlYWR5KCkpLnRvQmUoZmFsc2UpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGl0KCdyZXR1cm5zIHRoZSBwcm9jZXNzIGVudmlyb25tZW50JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5lbnZpcm9ubWVudCkudG9CZUZhbHN5KClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZ2V0RW52aXJvbm1lbnQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZ2V0RW52aXJvbm1lbnQoKSkudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLmdldEVudmlyb25tZW50KCkpLnRvQmUocHJvY2Vzcy5lbnYpXG4gICAgfSlcblxuICAgIGl0KCdjb25zdW1lcyBhbiBlbnZpcm9ubWVudCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChnb2NvbmZpZ01haW4uZW52aXJvbm1lbnQpLnRvQmVGYWxzeSgpXG4gICAgICBnb2NvbmZpZ01haW4uY29uc3VtZUVudmlyb25tZW50KHtQSU5HOiAnUE9ORyd9KVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5lbnZpcm9ubWVudCkudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QoZ29jb25maWdNYWluLmVudmlyb25tZW50LlBJTkcpLnRvQmUoJ1BPTkcnKVxuICAgICAgZXhwZWN0KGdvY29uZmlnTWFpbi5lbnZpcm9ubWVudC5QT05HKS5ub3QudG9CZURlZmluZWQoKVxuICAgIH0pXG4gIH0pXG59KVxuIl19
//# sourceURL=/Users/james/.atom/packages/go-config/spec/main-spec.js
