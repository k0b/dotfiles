function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/* eslint-env jasmine */

var _libGocoverParser = require('./../lib/gocover-parser');

var _fsPlus = require('fs-plus');

var _fsPlus2 = _interopRequireDefault(_fsPlus);

var _os = require('os');

var _os2 = _interopRequireDefault(_os);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _temp = require('temp');

var _temp2 = _interopRequireDefault(_temp);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

'use babel';

describe('gocover-parser', function () {
  var goconfig = null;
  var env = undefined;
  var directory = undefined;
  var filePath = undefined;
  var testFilePath = undefined;

  beforeEach(function () {
    waitsForPromise(function () {
      return atom.packages.activatePackage('go-config').then(function (pack) {
        goconfig = pack.mainModule.provide();
      });
    });

    waitsFor(function () {
      return goconfig !== null;
    });

    runs(function () {
      _temp2['default'].track();
      directory = _temp2['default'].mkdirSync();
      env = Object.assign({}, goconfig.environment());
      env['GOPATH'] = directory;
      filePath = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example', 'go-plus.go');
      testFilePath = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example', 'go-plus_test.go');
      _fsPlus2['default'].writeFileSync(filePath, 'package main\n\nimport "fmt"\n\nfunc main()  {\n\tfmt.Println(Hello())\n}\n\nfunc Hello() string {\n\treturn "Hello, 世界"\n}\n');
      _fsPlus2['default'].writeFileSync(testFilePath, 'package main\n\nimport "testing"\n\nfunc TestHello(t *testing.T) {\n\tresult := Hello()\n\tif result != "Hello, 世界" {\n\t\tt.Errorf("Expected %s - got %s", "Hello, 世界", result)\n\t}\n}');
    });
  });

  it('parses the file for a single package correctly', function () {
    var cmd = undefined;
    var tempDir = _temp2['default'].mkdirSync();
    var tempFile = _path2['default'].join(tempDir, 'coverage.out');
    var args = ['test', '-coverprofile=' + tempFile];
    var cwd = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example');
    var locatorOptions = { directory: cwd, env: env };
    var p = goconfig.locator.findTool('go', locatorOptions).then(function (c) {
      expect(c).toBeTruthy();
      cmd = c;
      return;
    });

    waitsForPromise(function () {
      return p;
    });

    runs(function () {
      var executorOptions = { cwd: cwd, env: env };
      p = goconfig.executor.exec(cmd, args, executorOptions).then(function (r) {
        expect(r.exitcode).toBe(0);
        expect(r.stderr).toBeFalsy();
        expect(r.stdout).toBeTruthy();
      });
    });

    waitsForPromise(function () {
      return p;
    });

    runs(function () {
      var retext = '^' + _path2['default'].join(directory, 'src') + _path2['default'].sep;
      if (_os2['default'].platform() === 'win32') {
        retext = retext.replace(/\\/g, '\\\\');
      }

      var re = new RegExp(retext);
      var packagePath = filePath.replace(re, '');

      var r = (0, _libGocoverParser.ranges)(tempFile);
      expect(r).toBeTruthy();
      expect(r.length).toBeGreaterThan(0);

      var result = _lodash2['default'].filter(r, function (r) {
        return _lodash2['default'].endsWith(filePath, r.file);
      });
      expect(result).toBeTruthy();
      expect(result.length).toBe(2);
      expect(result[0]).toBeDefined();
      expect(result[0].range.start).toBeDefined();
      expect(result[0].range.end).toBeDefined();
      expect(result[0].range.start.column).toBe(13);
      expect(result[0].range.start.row).toBe(4);
      expect(result[0].range.end.column).toBe(1);
      expect(result[0].range.end.row).toBe(6);
      expect(result[0].count).toBe(0);
      expect(result[0].file).toBe(packagePath);

      expect(result[1]).toBeDefined();
      expect(result[1].range.start).toBeDefined();
      expect(result[1].range.end).toBeDefined();
      expect(result[1].range.start.column).toBe(20);
      expect(result[1].range.start.row).toBe(8);
      expect(result[1].range.end.column).toBe(1);
      expect(result[1].range.end.row).toBe(10);
      expect(result[1].count).toBe(1);
      expect(result[1].file).toBe(packagePath);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy8uYXRvbS9wYWNrYWdlcy90ZXN0ZXItZ28vc3BlYy9nb2NvdmVyLXBhcnNlci1zcGVjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Z0NBRXFCLHlCQUF5Qjs7c0JBQy9CLFNBQVM7Ozs7a0JBQ1QsSUFBSTs7OztvQkFDRixNQUFNOzs7O29CQUNOLE1BQU07Ozs7c0JBQ1QsUUFBUTs7OztBQVB0QixXQUFXLENBQUE7O0FBU1gsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07QUFDL0IsTUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFBO0FBQ25CLE1BQUksR0FBRyxZQUFBLENBQUE7QUFDUCxNQUFJLFNBQVMsWUFBQSxDQUFBO0FBQ2IsTUFBSSxRQUFRLFlBQUEsQ0FBQTtBQUNaLE1BQUksWUFBWSxZQUFBLENBQUE7O0FBRWhCLFlBQVUsQ0FBQyxZQUFNO0FBQ2YsbUJBQWUsQ0FBQyxZQUFNO0FBQ3BCLGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsSUFBSSxFQUFLO0FBQy9ELGdCQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtPQUNyQyxDQUFDLENBQUE7S0FDSCxDQUFDLENBQUE7O0FBRUYsWUFBUSxDQUFDLFlBQU07QUFDYixhQUFPLFFBQVEsS0FBSyxJQUFJLENBQUE7S0FDekIsQ0FBQyxDQUFBOztBQUVGLFFBQUksQ0FBQyxZQUFNO0FBQ1Qsd0JBQUssS0FBSyxFQUFFLENBQUE7QUFDWixlQUFTLEdBQUcsa0JBQUssU0FBUyxFQUFFLENBQUE7QUFDNUIsU0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFBO0FBQy9DLFNBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxTQUFTLENBQUE7QUFDekIsY0FBUSxHQUFHLGtCQUFLLElBQUksQ0FBQyxTQUFTLEVB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QUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDL0IsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7S0FDekMsQ0FBQyxDQUFBO0dBQ0gsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBIiwiZmlsZSI6Ii9Vc2Vycy9qYW1lcy8uYXRvbS9wYWNrYWdlcy90ZXN0ZXItZ28vc3BlYy9nb2NvdmVyLXBhcnNlci1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCdcbi8qIGVzbGludC1lbnYgamFzbWluZSAqL1xuaW1wb3J0IHtyYW5nZXN9IGZyb20gJy4vLi4vbGliL2dvY292ZXItcGFyc2VyJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzLXBsdXMnXG5pbXBvcnQgb3MgZnJvbSAnb3MnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IHRlbXAgZnJvbSAndGVtcCdcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcblxuZGVzY3JpYmUoJ2dvY292ZXItcGFyc2VyJywgKCkgPT4ge1xuICBsZXQgZ29jb25maWcgPSBudWxsXG4gIGxldCBlbnZcbiAgbGV0IGRpcmVjdG9yeVxuICBsZXQgZmlsZVBhdGhcbiAgbGV0IHRlc3RGaWxlUGF0aFxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICByZXR1cm4gYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2dvLWNvbmZpZycpLnRoZW4oKHBhY2spID0+IHtcbiAgICAgICAgZ29jb25maWcgPSBwYWNrLm1haW5Nb2R1bGUucHJvdmlkZSgpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB3YWl0c0ZvcigoKSA9PiB7XG4gICAgICByZXR1cm4gZ29jb25maWcgIT09IG51bGxcbiAgICB9KVxuXG4gICAgcnVucygoKSA9PiB7XG4gICAgICB0ZW1wLnRyYWNrKClcbiAgICAgIGRpcmVjdG9yeSA9IHRlbXAubWtkaXJTeW5jKClcbiAgICAgIGVudiA9IE9iamVjdC5hc3NpZ24oe30sIGdvY29uZmlnLmVudmlyb25tZW50KCkpXG4gICAgICBlbnZbJ0dPUEFUSCddID0gZGlyZWN0b3J5XG4gICAgICBmaWxlUGF0aCA9IHBhdGguam9pbihkaXJlY3RvcnksICdzcmMnLCAnZ2l0aHViLmNvbScsICd0ZXN0dXNlcicsICdleGFtcGxlJywgJ2dvLXBsdXMuZ28nKVxuICAgICAgdGVzdEZpbGVQYXRoID0gcGF0aC5qb2luKGRpcmVjdG9yeSwgJ3NyYycsICdnaXRodWIuY29tJywgJ3Rlc3R1c2VyJywgJ2V4YW1wbGUnLCAnZ28tcGx1c190ZXN0LmdvJylcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsICdwYWNrYWdlIG1haW5cXG5cXG5pbXBvcnQgXCJmbXRcIlxcblxcbmZ1bmMgbWFpbigpICB7XFxuXFx0Zm10LlByaW50bG4oSGVsbG8oKSlcXG59XFxuXFxuZnVuYyBIZWxsbygpIHN0cmluZyB7XFxuXFx0cmV0dXJuIFwiSGVsbG8sIOS4lueVjFwiXFxufVxcbicpXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKHRlc3RGaWxlUGF0aCwgJ3BhY2thZ2UgbWFpblxcblxcbmltcG9ydCBcInRlc3RpbmdcIlxcblxcbmZ1bmMgVGVzdEhlbGxvKHQgKnRlc3RpbmcuVCkge1xcblxcdHJlc3VsdCA6PSBIZWxsbygpXFxuXFx0aWYgcmVzdWx0ICE9IFwiSGVsbG8sIOS4lueVjFwiIHtcXG5cXHRcXHR0LkVycm9yZihcIkV4cGVjdGVkICVzIC0gZ290ICVzXCIsIFwiSGVsbG8sIOS4lueVjFwiLCByZXN1bHQpXFxuXFx0fVxcbn0nKVxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3BhcnNlcyB0aGUgZmlsZSBmb3IgYSBzaW5nbGUgcGFja2FnZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgbGV0IGNtZFxuICAgIGxldCB0ZW1wRGlyID0gdGVtcC5ta2RpclN5bmMoKVxuICAgIGxldCB0ZW1wRmlsZSA9IHBhdGguam9pbih0ZW1wRGlyLCAnY292ZXJhZ2Uub3V0JylcbiAgICBsZXQgYXJncyA9IFsndGVzdCcsICctY292ZXJwcm9maWxlPScgKyB0ZW1wRmlsZV1cbiAgICBsZXQgY3dkID0gcGF0aC5qb2luKGRpcmVjdG9yeSwgJ3NyYycsICdnaXRodWIuY29tJywgJ3Rlc3R1c2VyJywgJ2V4YW1wbGUnKVxuICAgIGxldCBsb2NhdG9yT3B0aW9ucyA9IHtkaXJlY3Rvcnk6IGN3ZCwgZW52OiBlbnZ9XG4gICAgbGV0IHAgPSBnb2NvbmZpZy5sb2NhdG9yLmZpbmRUb29sKCdnbycsIGxvY2F0b3JPcHRpb25zKS50aGVuKChjKSA9PiB7XG4gICAgICBleHBlY3QoYykudG9CZVRydXRoeSgpXG4gICAgICBjbWQgPSBjXG4gICAgICByZXR1cm5cbiAgICB9KVxuXG4gICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgIHJldHVybiBwXG4gICAgfSlcblxuICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgbGV0IGV4ZWN1dG9yT3B0aW9ucyA9IHtjd2Q6IGN3ZCwgZW52OiBlbnZ9XG4gICAgICBwID0gZ29jb25maWcuZXhlY3V0b3IuZXhlYyhjbWQsIGFyZ3MsIGV4ZWN1dG9yT3B0aW9ucykudGhlbigocikgPT4ge1xuICAgICAgICBleHBlY3Qoci5leGl0Y29kZSkudG9CZSgwKVxuICAgICAgICBleHBlY3Qoci5zdGRlcnIpLnRvQmVGYWxzeSgpXG4gICAgICAgIGV4cGVjdChyLnN0ZG91dCkudG9CZVRydXRoeSgpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIHBcbiAgICB9KVxuXG4gICAgcnVucygoKSA9PiB7XG4gICAgICBsZXQgcmV0ZXh0ID0gJ14nICsgcGF0aC5qb2luKGRpcmVjdG9yeSwgJ3NyYycpICsgcGF0aC5zZXBcbiAgICAgIGlmIChvcy5wbGF0Zm9ybSgpID09PSAnd2luMzInKSB7XG4gICAgICAgIHJldGV4dCA9IHJldGV4dC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICB9XG5cbiAgICAgIGxldCByZSA9IG5ldyBSZWdFeHAocmV0ZXh0KVxuICAgICAgbGV0IHBhY2thZ2VQYXRoID0gZmlsZVBhdGgucmVwbGFjZShyZSwgJycpXG5cbiAgICAgIGxldCByID0gcmFuZ2VzKHRlbXBGaWxlKVxuICAgICAgZXhwZWN0KHIpLnRvQmVUcnV0aHkoKVxuICAgICAgZXhwZWN0KHIubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcblxuICAgICAgbGV0IHJlc3VsdCA9IF8uZmlsdGVyKHIsIChyKSA9PiB7IHJldHVybiBfLmVuZHNXaXRoKGZpbGVQYXRoLCByLmZpbGUpIH0pXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlVHJ1dGh5KClcbiAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlKDIpXG4gICAgICBleHBlY3QocmVzdWx0WzBdKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocmVzdWx0WzBdLnJhbmdlLnN0YXJ0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocmVzdWx0WzBdLnJhbmdlLmVuZCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5zdGFydC5jb2x1bW4pLnRvQmUoMTMpXG4gICAgICBleHBlY3QocmVzdWx0WzBdLnJhbmdlLnN0YXJ0LnJvdykudG9CZSg0KVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5lbmQuY29sdW1uKS50b0JlKDEpXG4gICAgICBleHBlY3QocmVzdWx0WzBdLnJhbmdlLmVuZC5yb3cpLnRvQmUoNilcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uY291bnQpLnRvQmUoMClcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uZmlsZSkudG9CZShwYWNrYWdlUGF0aClcblxuICAgICAgZXhwZWN0KHJlc3VsdFsxXSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5yYW5nZS5zdGFydCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5yYW5nZS5lbmQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2Uuc3RhcnQuY29sdW1uKS50b0JlKDIwKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5yYW5nZS5zdGFydC5yb3cpLnRvQmUoOClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2UuZW5kLmNvbHVtbikudG9CZSgxKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5yYW5nZS5lbmQucm93KS50b0JlKDEwKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5jb3VudCkudG9CZSgxKVxuICAgICAgZXhwZWN0KHJlc3VsdFsxXS5maWxlKS50b0JlKHBhY2thZ2VQYXRoKVxuICAgIH0pXG4gIH0pXG59KVxuIl19
//# sourceURL=/Users/james/.atom/packages/tester-go/spec/gocover-parser-spec.js
